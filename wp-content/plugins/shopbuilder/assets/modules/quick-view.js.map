{"version":3,"file":"/assets/modules/quick-view.js","mappings":"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","sources":["webpack://shopbuilder/./src/js/frontend/modules/quick-view.js"],"sourcesContent":["/* global rtsbQvParams*/\n( function( $ ) {\n\t$.fn.rtsb_quick_view = function() {\n\t\tconst modal = new RtsbModal(\n\t\t\t{\n\t\t\t\tfooter: false,\n\t\t\t\theader: true,\n\t\t\t\ttitle: false,\n\t\t\t\twrapClass: 'quick-view-modal',\n\t\t\t\tmaxWidth: 950,\n\t\t\t}\n\t\t);\n\t\t$( document )\n\t\t\t.off( 'click', '.rtsb-quick-view-btn' )\n\t\t\t.on(\n\t\t\t\t'click',\n\t\t\t\t'.rtsb-quick-view-btn',\n\t\t\t\tfunction( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tconst $_self = $( this );\n\t\t\t\t\tconst product_id = $_self.data( 'product_id' );\n\t\t\t\t\tconst button_text = $_self.data( 'title' );\n\t\t\t\t\tif ( product_id ) {\n\t\t\t\t\t\t$.ajax(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\turl: rtsbQvParams.ajaxurl,\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\taction: 'rtsb_load_product_quick_view',\n\t\t\t\t\t\t\t\t\tproduct_id,\n\t\t\t\t\t\t\t\t\tlang: rtsbQvParams.lang,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\tbeforeSend() {\n\t\t\t\t\t\t\t\t\tmodal.addModal().addLoading();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess( res ) {\n\t\t\t\t\t\t\t\t\t// console.log(button_text);\n\t\t\t\t\t\t\t\t\tmodal.body.addClass( 'woocommerce single-product' );\n\t\t\t\t\t\t\t\t\tmodal.addTitle( '' );\n\t\t\t\t\t\t\t\t\t// console.log(res);\n\t\t\t\t\t\t\t\t\tmodal.content( res.data.html );\n\n\t\t\t\t\t\t\t\t\tconst form_variation =\n                                        modal.body.find( '.variations_form' );\n\t\t\t\t\t\t\t\t\tform_variation.each(\n\t\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t\t$( this ).wc_variation_form();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tform_variation.trigger( 'check_variations' );\n\t\t\t\t\t\t\t\t\tform_variation.trigger( 'reset_image' );\n\n\t\t\t\t\t\t\t\t\tif ( typeof $.fn.wc_product_gallery !== 'undefined' ) {\n\t\t\t\t\t\t\t\t\t\tmodal.body\n\t\t\t\t\t\t\t\t\t\t\t.find( '.woocommerce-product-gallery' )\n\t\t\t\t\t\t\t\t\t\t\t.each(\n\t\t\t\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$( this ).wc_product_gallery();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// stop loader\n\t\t\t\t\t\t\t\t\tmodal.removeLoading();\n\t\t\t\t\t\t\t\t\t$( document ).trigger( 'rtsbQv.success' );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\t\t\t$( document ).trigger( 'rtsbQv.error' );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\talways() {\n\t\t\t\t\t\t\t\t\talert( 'complete' );\n\t\t\t\t\t\t\t\t\t$( document ).trigger( 'rtsbQv.loaded' );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log( 'No product selected' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t};\n\t$( document ).on(\n\t\t'yith_infs_adding_elem yith-wcan-ajax-filtered',\n\t\tfunction() {\n\t\t\t$.fn.rtsb_quick_view();\n\t\t}\n\t);\n\n\t$(\n\t\tfunction() {\n\t\t\t$.fn.rtsb_quick_view();\n\t\t}\n\t);\n}( jQuery ) );\n"],"names":["$","fn","rtsb_quick_view","modal","RtsbModal","footer","header","title","wrapClass","maxWidth","document","off","on","e","preventDefault","stopPropagation","$_self","product_id","data","button_text","ajax","url","rtsbQvParams","ajaxurl","action","lang","dataType","type","beforeSend","addModal","addLoading","success","res","body","addClass","addTitle","content","html","form_variation","find","each","wc_variation_form","trigger","wc_product_gallery","removeLoading","fail","always","alert","console","log","jQuery"],"sourceRoot":""}